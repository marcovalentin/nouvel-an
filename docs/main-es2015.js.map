{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/players.service.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","//import { PlayersService } from './players.service';\nimport { Player } from './models/player';\nimport { Component, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\n//import { PlayersLocalService } from './playerslocal.service';\nimport { PlayersService } from './players.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnDestroy {\n\n  players: Player[] = [];\n  survivors: Player[] = [];\n  playersSubscription: Subscription;\n\n  start = false;\n  end = false;\n\n  currentPlayer: Player;\n\n  constructor(private playersService: PlayersService) {\n\n    this.playersSubscription = this.playersService.playersSubject.subscribe(\n      (players: Player[]) => {\n        this.players = players;\n        this.survivors = this.players.filter((player) => player.assignedPlayer === undefined);\n      }\n    );\n    this.playersService.emitPlayers();\n\n    this.currentPlayer = null;\n  }\n\n  beginDurty() {\n    this.start = true;\n    if (this.survivors.length === 0) {\n      this.end = true;\n    }\n  }\n\n  getRandomInt(max: number) {\n    return Math.floor(Math.random() * Math.floor(max));\n  }\n\n  assignPlayer() {\n    const survivors = this.players.filter((player: Player) => {\n      return player.isAssigned === false && player.name !== this.currentPlayer.name;\n    });\n\n    this.currentPlayer.assignedPlayer = survivors[this.getRandomInt(survivors.length)];\n    this.currentPlayer.assignedPlayer.isAssigned = true;\n\n    this.playersService.setPlayers(this.players);\n  }\n\n  resetTirage() {\n    this.playersService.initPlayers();\n  }\n\n  ngOnDestroy() {\n    this.playersSubscription.unsubscribe();\n  }\n\n}\n","<div class=\"container\" class=\"full-background\">\n  <div class=\"row align-items-center h-100\">\n    <div class=\"card col-6 text-center pt-1 mx-auto bg-warning\">\n      <img class=\"card-img-top mx-auto avatar\" style=\"width: 200px; height: 200px;\" [src]=\"currentPlayer?.assignedPlayer?.img\" *ngIf=\"end===false && currentPlayer?.assignedPlayer\">\n      <div class=\"card-body text-primary\">\n        <div *ngIf=\"end===false && start===false\">\n          <h3>Bienvenue sur le tirage au sort du nouvel an !!</h3>\n          <button class=\"btn btn-success\" (click)=\"beginDurty()\">Commencer a jouer</button>\n        </div>\n\n        <div *ngIf=\"start===true && end===false && !currentPlayer?.assignedPlayer\">\n          <div class=\"pb-3\">\n              <label for=\"player\">Qui est-tu ?</label>\n              <select [(ngModel)]=\"currentPlayer\" class=\"form-control\" id=\"player\">\n                <option selected [ngValue]=\"null\"></option>\n                <option *ngFor=\"let survivor of survivors\" [ngValue]=\"survivor\">\n                  {{survivor.name}}\n                </option>\n              </select>\n          </div>\n          <button *ngIf=\"currentPlayer !== null\" class=\"btn btn-success\" (click)=\"assignPlayer()\">Découvre ton lutin</button>\n        </div>\n\n        <div *ngIf=\"end===false && currentPlayer?.assignedPlayer\">\n          <h2>Ton lutin est <strong>{{currentPlayer?.assignedPlayer?.name}}</strong></h2>\n          <h3>{{currentPlayer.assignedPlayer.speech}}</h3>\n        </div>\n\n        <div *ngIf=\"end===true\">\n          <h3>Merci à tous on se retrouve le 31 pour offrir les cadeaux !!</h3>\n        </div>\n        <div hidden>\n          <table >\n            <thead>\n              <tr>\n                <th scope=\"col\">Nom</th>\n                <th scope=\"col\">Offre à</th>     \n              </tr>\n            </thead>\n            <tbody>\n              <tr *ngFor=\"let player of players \">\n                <th scope=\"row\">{{ player.name}}</th>\n                <td>{{ player.assignedPlayer?.name}}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","import {FormsModule} from '@angular/forms';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { PlayersService } from './players.service';\nimport { AngularFireDatabaseModule } from '@angular/fire/database';\nimport { AngularFireModule } from '@angular/fire';\n\nconst config = {\n  apiKey: 'AIzaSyCpwjLIhnZ9gTGaSQVUQOJ3JMnWxbHQw4I',\n  authDomain: 'cadeaunoel-e140d.firebaseapp.com',\n  databaseURL: 'https://cadeaunoel-e140d.firebaseio.com',\n  projectId: 'cadeaunoel-e140d',\n  storageBucket: 'cadeaunoel-e140d.appspot.com',\n  messagingSenderId: '455608366904',\n  appId: '1:455608366904:web:82a1215e151e13dc27f3cd'\n};\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    AngularFireModule.initializeApp(config),\n    BrowserModule,\n    FormsModule,\n    AppRoutingModule,\n    AngularFireDatabaseModule\n  ],\n  providers: [PlayersService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\nimport { Player } from './models/player';\nimport { Subject } from 'rxjs';\n\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { DataSnapshot } from '@angular/fire/database/interfaces';\n\nimport * as playersData from '../assets/data/nouvel-an-data-2024.json';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PlayersService {\n\n  constructor(private db: AngularFireDatabase) {\n    this.getPlayers();\n  }\n\n  players: Player[] = [];\n  playersSubject = new Subject<Player[]>();\n\n  emitPlayers() {\n    this.playersSubject.next(this.players);\n  }\n\n  savePlayers() {\n    this.db.database.ref('/players').set(this.players);\n  }\n\n  setPlayers(players: Player[]) {\n    this.players = players;\n    this.savePlayers();\n  }\n\n  getPlayers() {\n    this.db.database.ref('/players')\n      .on('value', (data: DataSnapshot) => {\n          this.players = data.val() ? data.val() : [];\n          this.emitPlayers();\n        }\n      );\n  }\n\n  initPlayers() {\n    this.players = playersData.players ? playersData.players : [];\n    this.savePlayers();\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}